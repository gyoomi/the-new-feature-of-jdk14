# JDK14的新特性

## 概述

JDK 14是Java SE平台14版的开源参考实现，JSR 389在Java社区流程中指定了该版本。

JDK 14于2020年3月17日到达了通用版本。GPL下的生产就绪二进制文件可从Oracle获取；其他供应商的二进制文件也将很快发布。

已通过JEP 2.0提案修订的JEP流程提出并跟踪了此版本的功能和时间表。该发行版是使用JDK发行流程（JEP 3）制作的。

## 新特性

### 1. instanceof的模式匹配（预览）

**摘要**

通过对instanceof运算符进行模式匹配来增强Java编程语言。模式匹配允许程序中的通用逻辑，即从对象中有条件地提取组件，可以更简洁，更安全地表示。
这是JDK 14中的预览语言功能。

**动机**

几乎每个程序都包含某种逻辑，这些逻辑结合了对表达式是否具有某种类型或结构的测试，然后有条件地提取其状态的组件以进行进一步处理。
例如，所有Java程序员都熟悉实例化成语。

```java
if (obj instanceof String) {
    String s = (String) obj;
    // use s
}
```

这里发生了三件事：一个测试（obj是一个String吗？），一个转换（将obj转换为String）以及一个新的局部变量的声明，以便我们可以使用字符串值。
这种模式很简单，并且所有Java程序员都可以理解，但是由于一些原因，它不是最优的。这很乏味；不需要进行类型测试和类型转换（在一个testof实例之后还要做什么？）。
这个样板-尤其是String类型的三个出现-混淆了后面的更重要的逻辑。但最重要的是，重复为错误提供了机会，使错误不被察觉到程序中。

我们认为Java是时候增强模式匹配了，而不是寻求即席解决方案。模式匹配允许简洁地表达对象的所需“形状”（模式），并允许各种语句和表达式针对其输入来测试“形状”（匹配）。
从Haskell到C＃，许多语言都出于其简洁性和安全性而接受了模式匹配。

**用法**

它可以应用于目标的谓词，而且仅在谓词成功应用于目标时才从目标中提取的一组绑定变量的组合。
































